syntax = "proto3";

package packet;

enum Type
{
  NONE = 0;
  CONNECT = 2;
  DISCONNECT = 3;
  ERROR_ACK = 4;
  
  LOGIN_REQ = 100;
  LOGIN_ACK = 101;
  ENTER_NEW_USER_ACK = 103;
  MOVE_REQ = 105;
  MOVE_ACK = 106;
}

message Vector3
{
  float x = 1;
  float y = 2;
  float z = 3;
}

message RoomUser
{
  int64 network_id = 1;
  Vector3 position = 2;
}

message ErrorAck
{
  Type type = 1;
}

message Connect
{
  int64 network_id = 1;
}

message Disconnect
{
  int64 network_id = 1;
}

message LoginReq
{
  int64 network_id = 1;
  string name = 2;
}

message LoginAck
{
  int64 network_id = 1;
  string name = 2;
  repeated RoomUser users = 3;
}

message EnterNewUserAck
{
  string new_user_name = 1;
  RoomUser new_user = 2;
}

message MoveReq
{
  Vector3 position = 1;
}

message MoveAck
{
  int64 network_id = 1;
  Vector3 position = 2;
}